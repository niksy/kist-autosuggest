/*! kist-autosuggest 0.4.0 - Simple autosuggest plugin. | Author: Ivan NikoliÄ‡ <niksy5@gmail.com> (http://ivannikolic.com/), 2017 | License: MIT */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b=b.jQuery||(b.jQuery={}),b=b.fn||(b.fn={}),b.autosuggest=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){function d(a,b,c){return c?c.replace(new RegExp(b,"i"),'<mark class="'+a+'">$&</mark>'):""}var e="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,f=a(11),g=a(6),h=a(2),i=a(4),j=a(8),k=a(3)(f.name),l=a(5),m=b.exports=function(a,b){this.element=a,this.options=e.extend(!0,{},this.defaults,b),j.setup.call(this),h.setup.call(this),i.setup.call(this)};e.extend(m.prototype,{setCacheData:function(a){this.cacheDataExists(this.getInputVal())||(this.cache[this.getInputVal()]=a)},getCacheData:function(a){return this.cacheDataExists(a)?this.cache[a]:[]},cacheDataExists:function(a){return this.cache.hasOwnProperty(a)},showResults:function(){0!==this.getItems("selectableItems").length&&(this.$results.hasClass(this.options.classes.isOpened)||k(this,"open",[this.$el]),this.$results.attr("aria-expanded",!0).addClass(this.options.classes.isOpened),this.$wrapper.addClass(this.options.classes.isOpened))},hideResults:function(){this.$results.hasClass(this.options.classes.isOpened)&&k(this,"close",[this.$el]),this.$results.attr("aria-expanded",!1).removeClass(this.options.classes.isOpened),this.$wrapper.removeClass(this.options.classes.isOpened)},createGroup:function(a){var b,c=e();return e.each(a,e.proxy(function(a,d){b=e("<div />",{"class":this.options.classes.group}),b.append(e(this.options.templates.groupTitle.call(this.element,d)),this.createList(d.groupItems)).find(this.options.selectors.groupTitle).addClass(this.options.classes.groupTitle),c=c.add(b)},this)),c},createList:function(a){var b=e("<ul />",{"class":this.options.classes.list});return this.createItems(a),b.append(this.getItems("items")),this.setItems("selectableItems",this.getItems("items")),this.setItems("items",e()),b},createItem:function(a,b){var c=e(),h=d(this.options.classes.match,this.getInputVal(),a.value);return h?(c=e("<li />",{id:g.item+"-"+this.uid+"-"+b,"class":this.options.classes.item,role:"option"}),c.data(f.ns.dataAttr+"-data",a).append(e(this.options.templates.item.call(this.element,a))).find(this.options.selectors.toggler).addClass(this.options.classes.toggler),c.find(this.options.selectors.value).addClass(this.options.classes.value).html(h),this.setItems("items",c),c):c},createItems:function(a){e.each(a,e.proxy(function(a,b){return a===this.options.maxItems?!1:void this.createItem(b,a)},this))},getItems:function(a){return this["$"+a]||e()},setItems:function(a,b){return(!this["$"+a]||this["$"+a]&&0===b.length)&&(this["$"+a]=e(),0===b.length)?this["$"+a]:(this["$"+a]=this["$"+a].add(b),this["$"+a])},navigate:function(a){var b=this.getCurrentItem(),c=this.getItems("selectableItems");0!==c.length&&(b=b.length?b:c.filter(l(this.options.classes.isSelected)),0!==b.length?(b=c.eq("down"==a?++this.position:--this.position),(this.position>=c.length||this.position<0)&&(this.position>=c.length?this.position=0:this.position<0&&(this.position=c.length-1),b=c.eq(this.position))):b=c["down"==a?"first":"last"](),k(this,"move",[b,this.getItemData(b)]),this.setCurrentItem(b),this.setInputVal(b.find(this.options.selectors.value).text()))},getItemData:function(a){return a.data(f.ns.dataAttr+"-data")||{}},setCurrentItem:function(a){return this.$currentItem=a,0!==a.length&&(this.$prevItem&&this.$prevItem.removeClass(this.options.classes.isSelected),this.$currentItem.addClass(this.options.classes.isSelected),this.$el.attr("aria-activedescendant",this.$currentItem.attr("id"))),this.$prevItem=this.$currentItem,this.$currentItem},getCurrentItem:function(){return this.$currentItem||e()},setInputVal:function(a,b){this.val=a,b||this.$el.val(a)},getInputVal:function(){return this.val},getData:function(a){var b,c,d;return k(this,"search",[a]),this.cacheDataExists(a)?void this.showData(this.getCacheData(a)):(this.showPreloader(),b=this.options.source(a),c=e.proxy(this.showData,this),d=e.proxy(this.hidePreloader,this),void("done"in b&&"always"in b?b.done(c).always(d):b.then(c,d)["catch"](d)))},showData:function(a){return k(this,"response",[a]),!a||a&&!a.length?void this.hideResults():(this.setCacheData(a),this.cleanup(),this["simple"==this.options.responseType?"createList":"createGroup"](a).appendTo(this.$results),void this.showResults())},showPreloader:function(){this.$preloader.addClass(this.options.classes.isActive)},hidePreloader:function(){this.$preloader.removeClass(this.options.classes.isActive)},cleanup:function(){this.$results.empty(),this.setCurrentItem(e()),this.setItems("selectableItems",e()),this.position=0},destroy:function(){h.destroy.call(this),i.destroy.call(this),j.destroy.call(this)},cache:{},val:"",position:0,defaults:{source:function(a){return e.Deferred()},responseType:"simple",minLength:2,maxItems:10,preventSubmit:!0,debounceInputValue:300,selectors:{toggler:"button, a",value:"button span, a span",groupTitle:"h2"},templates:{item:function(a){var b='button type="button"',c="button";return a.url&&(b='a href="'+a.url+'"',c="a"),"<"+b+"><span>"+a.value+"</span></"+c+">"},groupTitle:function(a){return"<h2>"+a.groupName+" </h2>"}},classes:g,create:e.noop,open:e.noop,close:e.noop,focus:e.noop,blur:e.noop,search:e.noop,response:e.noop,move:e.noop,select:e.noop}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{11:11,2:2,3:3,4:4,5:5,6:6,8:8}],2:[function(a,b,c){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(11),f=a(6),g=a(3)(e.name);b.exports={$doc:d(document),setup:function(){this.$el=d(this.element),this.$form=this.$el.closest("form"),this.$form=this.$form.length?this.$form:d(),this.$wrapper=d("<div />",{"class":this.options.classes.wrapper}),this.$preloader=d("<div />"),this.$preloader.addClass(this.options.classes.preloader).removeClass(this.options.classes.isActive),this.$wrapper.insertBefore(this.$el).append(this.$el,this.$preloader),this.$results=d("<div />"),this.$results.attr({id:f.results+"-"+this.uid,role:"listbox","aria-expanded":!1}).addClass(this.options.classes.results).removeClass(this.options.classes.isOpened).appendTo(this.$wrapper),this.$el.addClass(this.options.classes.input).attr({role:"combobox","aria-autocomplete":"list","aria-owns":f.results+"-"+this.uid,"aria-activedescendant":"",autocomplete:"off",autocorrect:"off"}),g(this,"create",[this.$el])},destroy:function(){this.$el.removeClass(this.options.classes.input).removeAttr("role aria-autocomplete aria-owns aria-activedescendant autocomplete autocorrect").insertBefore(this.$wrapper),this.$wrapper.remove()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{11:11,3:3,6:6}],3:[function(a,b,c){(function(a){var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports=function(a){return function(b,d,e,f){var g=b.dom&&b.dom.el||b.$el||c({});b.options[d]&&b.options[d].apply(1===g.length?g[0]:g.toArray(),e),(f||g).trigger(((a||"")+d).toLowerCase(),e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(a,b,c){(function(c){function d(){m(this,"select",[this.getCurrentItem(),this.getItemData(this.getCurrentItem())]),this.hideResults()}function e(a,b){var c=b.which,d=this.$el.val();return this.setInputVal(d,!0),-1!==i.inArray(c,r)||this.getInputVal().length<this.options.minLength?void(-1===i.inArray(c,q)&&this.hideResults()):void a.call(this,this.getInputVal())}function f(a){var b=a.which,c=i(a.target);(b===p.escape&&c.is(this.$el)||b>=p.mouseLeft&&b<=p.mouseRight&&0===c.closest(this.$results).length&&!c.is(this.$el))&&this.hideResults()}function g(a){var b=a.which;switch(b){case p.up:case p.down:this.$results.hasClass(this.options.classes.isOpened)||this.showResults(),this.navigate(b===p.down?"down":"up");break;case p.enter:d.call(this)}}function h(a){var b=i(a.target).closest(o(this.options.classes.item));this.setCurrentItem(b),this.setInputVal(b.find(this.options.selectors.value).text()),d.call(this),this.options.preventSubmit||this.$form.trigger("submit")}var i="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,j=a(2),k=a(10),l=a(11),m=a(3)(l.name),n=a(13).debounce,o=a(5),p=k.KEY,q=k.WHITELIST,r=k.BLACKLIST;b.exports={setup:function(){this.$el.on("keyup"+this.ens,n(this.options.debounceInputValue,i.proxy(e,this,this.getData))).on("keyup"+this.ens,i.proxy(function(a){-1===i.inArray(a.which,r)&&m(this,"input",[this.$el.val()])},this)).on("keydown"+this.ens,i.proxy(g,this)).on("focus"+this.ens,i.proxy(this.showResults,this)).on("focus"+this.ens,i.proxy(function(a){m(this,"focus",[this.$el])},this)).on("blur"+this.ens,i.proxy(function(a){m(this,"blur",[this.$el])},this)),this.$wrapper.on("click"+this.ens,o(this.options.classes.toggler),i.proxy(h,this)),j.$doc.on("click"+this.ens,i.proxy(f,this)).on("keydown"+this.ens,i.proxy(f,this)),this.options.preventSubmit&&this.$form.on("submit"+this.ens,function(a){a.preventDefault()})},destroy:function(){j.$doc.off(this.ens),this.$el.off(this.ens),this.$wrapper.off(this.ens),this.$form.off(this.ens)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{10:10,11:11,13:13,2:2,3:3,5:5}],5:[function(a,b,c){b.exports=function(a){return"."+a.split(" ").join(".")}},{}],6:[function(a,b,c){var d=a(11);b.exports={wrapper:d.ns.htmlClass,results:d.ns.htmlClass+"-results",input:d.ns.htmlClass+"-input",list:d.ns.htmlClass+"-list",item:d.ns.htmlClass+"-item",toggler:d.ns.htmlClass+"-toggler",value:d.ns.htmlClass+"-value",match:d.ns.htmlClass+"-match",preloader:d.ns.htmlClass+"-preloader",group:d.ns.htmlClass+"-group",groupTitle:d.ns.htmlClass+"-groupTitle",isSelected:"is-selected",isOpened:"is-opened",isActive:"is-active"}},{11:11}],7:[function(a,b,c){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(1),f=a(11),g=a(9)(f.publicMethods),h=d.fn[f.name]=b.exports=function(a){return a=a||{},this.each(function(){var b=d.data(this,f.name);g(a)&&b?b[a]():"object"!=typeof a||b||d.data(this,f.name,new e(this,a))})};h.defaults=e.prototype.defaults}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,11:11,9:9}],8:[function(a,b,c){(function(c){var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a(11),f=0;b.exports={setup:function(){this.uid=f++,this.ens=e.ns.event+"."+this.uid},destroy:function(){d.removeData(this.element,e.name)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{11:11}],9:[function(a,b,c){(function(a){var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports=function(a){return function(b){return"string"==typeof b&&-1!==c.inArray(b,a||[])}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(a,b,c){var d={enter:13,escape:27,up:38,down:40,mouseLeft:1,mouseRight:3},e=[16,17,18,20,37,d.up,39,d.down,91,93],f=[9,d.enter,d.escape].concat(e);b.exports={KEY:d,BLACKLIST:f,WHITELIST:e}},{}],11:[function(a,b,c){b.exports={name:"autosuggest",ns:{htmlClass:"kist-Autosuggest",event:".kist.autosuggest",dataAttr:"kist-autosuggest"},publicMethods:["destroy"]}},{}],12:[function(a,b,c){var d=a(14);b.exports=function(a,b,c){return void 0===c?d(a,b,!1):d(a,c,b!==!1)}},{14:14}],13:[function(a,b,c){b.exports={throttle:a(14),debounce:a(12)}},{12:12,14:14}],14:[function(a,b,c){(function(a){var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports=function(a,b,d,e){function f(){function c(){h=Number(new Date),d.apply(i,k)}function f(){g=void 0}var i=this,j=Number(new Date)-h,k=arguments;e&&!g&&c(),g&&clearTimeout(g),void 0===e&&j>a?c():b!==!0&&(g=setTimeout(e?f:c,void 0===e?a-j:a))}var g,h=0;return"boolean"!=typeof b&&(e=d,d=b,b=void 0),c&&c.guid&&(f.guid=d.guid=d.guid||c.guid++),f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[7])(7)});